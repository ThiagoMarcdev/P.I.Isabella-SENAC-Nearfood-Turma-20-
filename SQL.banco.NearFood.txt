CREATE DATABASE NearFoodDB

use NearFoodDB
--Tabela usu�rios--
CREATE TABLE tbl_Usuarios 
(
    id_usuario int primary key identity not null,
    nome VARCHAR(60),
    senha VARCHAR (20),
    email VARCHAR (255),
)

--Tabela Prefer�ncia de usu�rios--
CREATE TABLE tbl_PreferenciaUsuarios
(
    id_tbl_PreferenciaUsuarios int primary key identity not null,
    idUsuario int,
    pratoFavorito VARCHAR(255),
    tipoCulinaria VARCHAR (100),
    FOREIGN KEY  (idUsuario) REFERENCES tbl_Usuarios(id_usuario)
)

--Tabela Prefer�ncia de usu�rios--
CREATE TABLE tbl_Restaurantes
(
    id_tbl_Restaurantes int primary key identity not null,
    nome VARCHAR (100),
    descricao VARCHAR (255),
    estado VARCHAR (100),
    endereco VARCHAR(255),
    hora_funcionamento VARCHAR (50),
    delivery BIT, -- funcionaria como um booleano para o banco de dados
    telefone VARCHAR (30),
    website VARCHAR (255),
    avaliacao DECIMAL (2, 1), -- para armazenar avaliação do restaurante
    latitude DECIMAL (9, 6),
    longitude DECIMAL (9, 6),
    id_tbl_categorias INT REFERENCES tbl_Categoria(id_tbl_categorias), -- uma fk categoria referenciando da tabela categoria

    -- create_at
    -- updated_at 

)
CREATE TABLE tbl_Categoria

    id_tbl_categorias int primary key identity not null,

--Tabela avalia��o-- 
CREATE TABLE tbl_avaliacao
(
    id_tbl_avaliacao int primary key identity not null,
    idUsuario int,
    idRestaurante int,
    nota int,
    comentario VARCHAR(255),
    datta date,
    FOREIGN KEY (idUsuario) REFERENCES tbl_Usuarios(id_usuario),
    FOREIGN KEY (idRestaurante) REFERENCES tbl_Restaurantes(id_tbl_Restaurantes)
)
--Tabela pratos--
CREATE TABLE tbl_pratos
(
    id_tbl_pratos int primary key identity not null,
    nome VARCHAR (100),
    descricao VARCHAR (255),
    tipoCulinaria VARCHAR (255),
    idRestaurantes int,
    FOREIGN KEY (idRestaurantes) REFERENCES tbl_Restaurantes (id_tbl_Restaurantes)
)

--Tabela categorias ( tabela seria para categorizar restaurantes: hamburgueria, pizzarria, etc)--
CREATE TABLE tbl_Categoria
(
    id_tbl_categorias int primary key identity not null,
    nome VARCHAR (50),
    icone VARCHAR (50) -- esse atributo seria usado para utilizar icones hostepedados no site font awesome
)


select * from tblUsuarios

